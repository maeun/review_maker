(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(3371)}])},3371:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return F}});var n=i(2729),r=i(5893),o=i(7294),s=i(917),l=i(6459),a=i(6254),c=i(8186),d=i(232),u=i(92),x=i(8029),p=i(3465),g=i(8491),h=i(3636),b=i(5907),m=i(511),f=i(9433),j=i(2553);function w(){let e=(0,n._)(["\n  0%, 20%, 50%, 80%, 100% {\n    transform: translateY(0);\n  }\n  40% {\n    transform: translateY(-10px);\n  }\n  60% {\n    transform: translateY(-5px);\n  }\n"]);return w=function(){return e},e}function y(){let e=(0,n._)(["\n  0%, 100% { opacity: 0.3; }\n  50% { opacity: 1; }\n"]);return y=function(){return e},e}function v(){let e=(0,n._)(["\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n"]);return v=function(){return e},e}let R=(0,s.F4)(w()),S=(0,s.F4)(y()),C=(0,s.F4)(v());function U(e){let{step:t,progress:i}=e,n=(e=>{switch(e){case"crawling":return{icon:b.w,title:"리뷰 데이터 수집 중...",description:"네이버 지도에서 실제 리뷰들을 가져오고 있습니다.",color:"blue",animation:R};case"generating":return{icon:m.s,title:"AI 리뷰 생성 중...",description:"수집된 리뷰를 바탕으로 새로운 리뷰를 생성하고 있습니다.",color:"purple",animation:C};case"complete":return{icon:f.r,title:"리뷰 생성 완료!",description:"새로운 리뷰가 성공적으로 생성되었습니다.",color:"green",animation:R};default:return null}})(t);return n?(0,r.jsxs)(x.x,{w:"100%",p:8,borderWidth:2,borderRadius:"xl",borderColor:"".concat(n.color,".200"),bg:"".concat(n.color,".50"),boxShadow:"lg",position:"relative",overflow:"hidden",children:[(0,r.jsx)(x.x,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"".concat(n.color,".100"),opacity:.1,animation:"".concat(S," 3s ease-in-out infinite")}),(0,r.jsxs)(c.g,{spacing:6,position:"relative",zIndex:1,children:[(0,r.jsxs)(c.g,{spacing:3,children:[(0,r.jsx)(x.x,{p:4,borderRadius:"full",bg:"".concat(n.color,".100"),animation:"".concat(n.animation," 2s infinite"),children:(0,r.jsx)(j.J,{as:n.icon,color:"".concat(n.color,".600"),boxSize:8})}),(0,r.jsx)(u.x,{fontSize:"xl",fontWeight:"bold",color:"".concat(n.color,".700"),textAlign:"center",children:n.title})]}),(0,r.jsx)(u.x,{color:"gray.600",textAlign:"center",fontSize:"md",maxW:"300px",children:n.description}),(0,r.jsxs)(c.g,{spacing:2,w:"100%",children:[(0,r.jsx)(x.x,{w:"100%",h:"8px",bg:"".concat(n.color,".100"),borderRadius:"full",overflow:"hidden",position:"relative",children:(0,r.jsx)(x.x,{h:"100%",bg:"".concat(n.color,".500"),borderRadius:"full",width:"".concat(i,"%"),transition:"width 0.5s ease-in-out",position:"relative",children:(0,r.jsx)(x.x,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"white",opacity:.3,animation:"".concat(S," 1.5s ease-in-out infinite")})})}),(0,r.jsxs)(u.x,{fontSize:"sm",color:"".concat(n.color,".600"),fontWeight:"medium",children:[i,"% 완료"]})]}),(0,r.jsxs)(h.U,{spacing:4,justify:"center",children:[(0,r.jsx)(x.x,{w:"12px",h:"12px",borderRadius:"full",bg:"crawling"===t||"generating"===t||"complete"===t?"blue.500":"gray.300",animation:"crawling"===t?"".concat(R," 1s infinite"):void 0}),(0,r.jsx)(x.x,{w:"12px",h:"12px",borderRadius:"full",bg:"generating"===t||"complete"===t?"purple.500":"gray.300",animation:"generating"===t?"".concat(R," 1s infinite"):void 0}),(0,r.jsx)(x.x,{w:"12px",h:"12px",borderRadius:"full",bg:"complete"===t?"green.500":"gray.300",animation:"complete"===t?"".concat(R," 1s infinite"):void 0})]})]})]}):null}var z=i(4270),_=i(4463);function L(){return(0,r.jsxs)(c.g,{spacing:4,w:"100%",align:"stretch",children:[(0,r.jsxs)(x.x,{w:"100%",p:6,borderWidth:1,borderRadius:"lg",boxShadow:"md",children:[(0,r.jsxs)(h.U,{spacing:2,mb:3,children:[(0,r.jsx)(z.O,{height:"20px",width:"80px",borderRadius:"full"}),(0,r.jsx)(z.O,{height:"16px",width:"120px"})]}),(0,r.jsx)(z.O,{height:"24px",width:"150px",mb:3}),(0,r.jsx)(x.x,{p:4,bg:"gray.50",borderRadius:"md",children:(0,r.jsx)(_.N,{noOfLines:4,spacing:3,skeletonHeight:"16px"})})]}),(0,r.jsxs)(x.x,{w:"100%",p:6,borderWidth:1,borderRadius:"lg",boxShadow:"md",children:[(0,r.jsxs)(h.U,{spacing:2,mb:3,children:[(0,r.jsx)(z.O,{height:"20px",width:"80px",borderRadius:"full"}),(0,r.jsx)(z.O,{height:"16px",width:"140px"})]}),(0,r.jsx)(z.O,{height:"24px",width:"120px",mb:3}),(0,r.jsx)(x.x,{p:4,bg:"gray.50",borderRadius:"md",children:(0,r.jsx)(_.N,{noOfLines:8,spacing:3,skeletonHeight:"16px"})})]})]})}var W=i(4032),k=i(2519),O=i(6115),A=i(5091);function T(e){let{visitorReview:t,blogReview:i,visitorReviewCount:n=0,blogReviewCount:s=0}=e,[a,p]=(0,o.useState)(null),g=(0,l.p)(),b=async(e,t)=>{try{await navigator.clipboard.writeText(e),p(t),g({title:"복사 완료!",description:"".concat("visitor"===t?"방문자":"블로그"," 리뷰가 클립보드에 복사되었습니다."),status:"success",duration:2e3,isClosable:!0}),setTimeout(()=>p(null),2e3)}catch(e){g({title:"복사 실패",description:"클립보드 복사에 실패했습니다.",status:"error",duration:3e3,isClosable:!0})}};return(0,r.jsxs)(c.g,{spacing:4,w:"100%",children:[t&&(0,r.jsxs)(x.x,{w:"100%",p:6,borderWidth:1,borderRadius:"lg",boxShadow:"md",children:[(0,r.jsxs)(h.U,{spacing:2,mb:3,justify:"space-between",children:[(0,r.jsxs)(h.U,{spacing:2,children:[(0,r.jsx)(W.C,{colorScheme:"blue",variant:"subtle",children:"방문자 리뷰"}),(0,r.jsxs)(u.x,{fontSize:"sm",color:"gray.500",children:["4-5문장, 이모지 포함 • ",n,"개 리뷰 참고"]})]}),(0,r.jsx)(k.h,{"aria-label":"방문자 리뷰 복사",icon:"visitor"===a?(0,r.jsx)(O.n,{}):(0,r.jsx)(A.T,{}),size:"sm",colorScheme:"visitor"===a?"green":"gray",onClick:()=>b(t,"visitor")})]}),(0,r.jsx)(d.X,{size:"md",mb:3,children:"방문자 리뷰"}),(0,r.jsx)(u.x,{whiteSpace:"pre-line",lineHeight:"tall",p:4,bg:"gray.50",borderRadius:"md",fontSize:"md",children:t})]}),i&&(0,r.jsxs)(x.x,{w:"100%",p:6,borderWidth:1,borderRadius:"lg",boxShadow:"md",children:[(0,r.jsxs)(h.U,{spacing:2,mb:3,justify:"space-between",children:[(0,r.jsxs)(h.U,{spacing:2,children:[(0,r.jsx)(W.C,{colorScheme:"purple",variant:"subtle",children:"블로그 리뷰"}),(0,r.jsxs)(u.x,{fontSize:"sm",color:"gray.500",children:["자세한 분석, 일반 텍스트 • ",s,"개 리뷰 참고"]})]}),(0,r.jsx)(k.h,{"aria-label":"블로그 리뷰 복사",icon:"blog"===a?(0,r.jsx)(O.n,{}):(0,r.jsx)(A.T,{}),size:"sm",colorScheme:"blog"===a?"green":"gray",onClick:()=>b(i,"blog")})]}),(0,r.jsx)(d.X,{size:"md",mb:3,children:"블로그 리뷰"}),(0,r.jsx)(x.x,{whiteSpace:"pre-line",lineHeight:"tall",p:4,bg:"gray.50",borderRadius:"md",fontSize:"sm",overflowX:"auto",fontFamily:"body",children:i})]})]})}function I(){let e=(0,n._)(["\n  0% { opacity: 0.6; }\n  50% { opacity: 1; }\n  100% { opacity: 0.6; }\n"]);return I=function(){return e},e}function E(){let e=(0,n._)(["\n  from { transform: translateY(20px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n"]);return E=function(){return e},e}(0,s.F4)(I());let N=(0,s.F4)(E());function F(){let[e,t]=(0,o.useState)(""),[i,n]=(0,o.useState)(""),[s,j]=(0,o.useState)(""),[w,y]=(0,o.useState)(!1),[v,R]=(0,o.useState)("idle"),[S,C]=(0,o.useState)(0),[z,_]=(0,o.useState)(!0),[W,k]=(0,o.useState)(0),[O,A]=(0,o.useState)(0),I=(0,l.p)(),E=e=>{let t=e.match(/place\/(\d+)/);return t?t[1]:null},F=e=>{if(!e.trim()){_(!0);return}_(!!E(e))},X=async()=>{if(!e.trim()){I({title:"URL을 입력해주세요",description:"네이버 지도 URL을 입력해주세요.",status:"warning",duration:3e3,isClosable:!0});return}if(!z){I({title:"유효하지 않은 URL",description:"올바른 네이버 지도 URL을 입력해주세요.",status:"error",duration:4e3,isClosable:!0});return}n(""),j(""),y(!0),R("crawling"),C(0);let t=E(e);if(!t){I({title:"유효하지 않은 URL",description:"네이버 지도 URL을 올바르게 입력해주세요.",status:"error",duration:4e3,isClosable:!0}),y(!1),R("idle");return}try{let e="https://map.naver.com/p/entry/place/".concat(t,"?c=15.00,0,0,2,dh&placePath=/review");console.log("크롤링 요청 URL:","https://crawl-pf7yv34lvq-uc.a.run.app/?url=".concat(encodeURIComponent(e))),C(20);let i=await fetch("https://crawl-pf7yv34lvq-uc.a.run.app/?url=".concat(encodeURIComponent(e)));if(!i.ok){let e=await i.json();throw Error(e.detail||"크롤링에 실패했습니다.")}C(50),R("generating");let{visitorReviews:r,blogReviews:o,visitorReviewCount:s,blogReviewCount:l}=await i.json();k(s),A(l);let a=await fetch("https://us-central1-review-maker-nvr.cloudfunctions.net/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitorReviews:r,blogReviews:o})});if(!a.ok){let e=await a.json();throw Error(e.detail||"리뷰 생성에 실패했습니다.")}C(80);let{visitorReview:c,blogReview:d}=await a.json();n(c),j(d),C(100),R("complete"),I({title:"리뷰 생성 완료!",description:"방문자 리뷰 ".concat(s,"개, 블로그 리뷰 ").concat(l,"개를 참고하여 생성했습니다."),status:"success",duration:3e3,isClosable:!0})}catch(e){console.error("API 호출 오류:",e),e instanceof Error&&e.message.includes("크롤링")?I({title:"리뷰 생성 불가",description:"네이버 지도에서 해당 장소의 리뷰를 가져올 수 없습니다. 다른 장소를 시도해주세요.",status:"error",duration:5e3,isClosable:!0}):I({title:"리뷰 생성 실패",description:"잠시 후 다시 시도해주세요.",status:"error",duration:5e3,isClosable:!0}),R("idle")}finally{y(!1),setTimeout(()=>{C(0),R("idle")},3e3)}},P=(e=>{switch(e){case"crawling":return{icon:b.w,title:"리뷰 데이터 수집 중...",description:"네이버 지도에서 실제 리뷰들을 가져오고 있습니다.",color:"blue"};case"generating":return{icon:m.s,title:"AI 리뷰 생성 중...",description:"수집된 리뷰를 바탕으로 새로운 리뷰를 생성하고 있습니다.",color:"purple"};case"complete":return{icon:f.r,title:"리뷰 생성 완료!",description:"새로운 리뷰가 성공적으로 생성되었습니다.",color:"green"};default:return null}})(v);return(0,r.jsx)(a.W,{maxW:"lg",py:10,children:(0,r.jsxs)(c.g,{spacing:6,children:[(0,r.jsx)(d.X,{size:"xl",bgGradient:"linear(to-r, teal.400, blue.500)",bgClip:"text",textAlign:"center",children:"네이버 장소 리뷰 생성기"}),(0,r.jsx)(u.x,{color:"gray.600",textAlign:"center",children:"네이버 지도 URL을 입력하면 AI가 해당 장소의 리뷰를 자동으로 생성해드립니다"}),(0,r.jsx)(x.x,{w:"100%",p:6,borderWidth:1,borderRadius:"lg",boxShadow:"sm",children:(0,r.jsxs)(c.g,{spacing:4,children:[(0,r.jsx)(p.I,{placeholder:"네이버 지도 URL을 입력하세요 (예: https://map.naver.com/p/entry/place/1234567890)",value:e,onChange:e=>{let i=e.target.value;t(i),F(i)},size:"lg",disabled:w,isInvalid:!z&&""!==e.trim(),errorBorderColor:"red.300"}),!z&&""!==e.trim()&&(0,r.jsx)(u.x,{fontSize:"sm",color:"red.500",textAlign:"center",children:"올바른 네이버 지도 URL을 입력해주세요"}),(0,r.jsx)(u.x,{fontSize:"xs",color:"gray.500",textAlign:"center",children:"\uD83D\uDCA1 네이버 지도에서 장소를 검색한 후, 주소창의 URL을 복사해서 붙여넣어주세요"}),(0,r.jsx)(g.z,{colorScheme:"teal",onClick:X,isLoading:w,loadingText:"처리 중...",size:"lg",w:"100%",disabled:!e.trim()||!z||w,children:"리뷰 생성하기"})]})}),w&&P&&(0,r.jsx)(U,{step:v,progress:S}),!w&&"complete"===v&&(0,r.jsx)(x.x,{w:"100%",p:4,borderWidth:1,borderRadius:"lg",borderColor:"green.200",bg:"green.50",animation:"".concat(N," 0.5s ease-out"),children:(0,r.jsxs)(c.g,{spacing:2,children:[(0,r.jsxs)(h.U,{spacing:2,justify:"center",children:[(0,r.jsx)(f.r,{color:"green.500"}),(0,r.jsx)(u.x,{color:"green.700",fontWeight:"medium",children:"리뷰 생성이 완료되었습니다!"})]}),(0,r.jsxs)(h.U,{spacing:4,fontSize:"sm",color:"gray.600",children:[(0,r.jsxs)(u.x,{children:["방문자 리뷰 ",W,"개 참고"]}),(0,r.jsx)(u.x,{children:"•"}),(0,r.jsxs)(u.x,{children:["블로그 리뷰 ",O,"개 참고"]})]})]})}),w&&("crawling"===v||"generating"===v)&&(0,r.jsx)(L,{}),(i||s)&&!w&&(0,r.jsx)(T,{visitorReview:i,blogReview:s,visitorReviewCount:W,blogReviewCount:O})]})})}}},function(e){e.O(0,[642,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);